# Minimal ClamAV daemon config for squid-flask-proxy
# Uses the persisted volume under /var/lib/squid-flask-proxy.

# Use a unix socket inside the container.
LocalSocket /var/lib/squid-flask-proxy/clamav/clamd.sock
FixStaleSocket true

# Signature DB location (persisted).
DatabaseDirectory /var/lib/squid-flask-proxy/clamav/db

# Stream scanning limits (128 MiB)
StreamMaxLength 134217728
MaxFileSize 134217728

# Default scanning features
ScanArchive true
ScanPE true
ScanELF true
ScanMail true
ScanHTML true
ScanPDF true

# Keep resource usage reasonable
MaxThreads 4
